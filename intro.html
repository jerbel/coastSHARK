

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1. Intro &mdash; coastSHARK 2.0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. How to Extend" href="extension.html" />
    <link rel="prev" title="Welcome to coastSHARK’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> coastSHARK
          

          
            
            <img src="_static/SmartSHARK_read_the_docs_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">1. Intro</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">1.1. Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#via-pip">1.1.1. Via PIP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#via-setup-py">1.1.2. Via setup.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#run-tests">1.2. Run tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#execute">1.3. Execute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#python-ast-extraction">1.4. Python AST extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#java-ast-extraction">1.5. Java AST extraction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extension.html">2. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin_packaging.html">3. Plugin Packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">4. API Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">coastSHARK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>1. Intro</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="intro">
<h1>1. Intro<a class="headerlink" href="#intro" title="Permalink to this headline">¶</a></h1>
<p>This tool collects AST Information for smartSHARK.
Currently Java and Python are supported.
For Python the build in <a class="reference external" href="https://docs.python.org/3/library/ast.html">ast</a> package is used, for java the <a class="reference external" href="https://github.com/c2nes/javalang">javalang</a> package is used.</p>
<p>This software is supposed to be run as a plugin for serverSHARK. It can be run standalone if a MongoDB is running and vcsSHARK has run beforehand.
<em>coastSHARK</em> uses the <a class="reference external" href="https://smartshark.github.io/pycoSHARK">pycoSHARK</a> models <a class="reference external" href="https://smartshark.github.io/pycoSHARK/api.html#pycoshark.mongomodels.VCSSystem" title="(in pycoSHARK v1.0)"><code class="docutils literal notranslate"><span class="pre">pycoshark.mongomodels.VCSSystem</span></code></a>, <a class="reference external" href="https://smartshark.github.io/pycoSHARK/api.html#pycoshark.mongomodels.File" title="(in pycoSHARK v1.0)"><code class="docutils literal notranslate"><span class="pre">pycoshark.mongomodels.File</span></code></a>, <a class="reference external" href="https://smartshark.github.io/pycoSHARK/api.html#pycoshark.mongomodels.Commit" title="(in pycoSHARK v1.0)"><code class="docutils literal notranslate"><span class="pre">pycoshark.mongomodels.Commit</span></code></a> and <a class="reference external" href="https://smartshark.github.io/pycoSHARK/api.html#pycoshark.mongomodels.CodeEntityState" title="(in pycoSHARK v1.0)"><code class="docutils literal notranslate"><span class="pre">pycoshark.mongomodels.CodeEntityState</span></code></a>
The first are only used for looking up the correct CodeEntityState and the results are written to CodeEntityState.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This software is still in development. Also note some caveats described in <a class="reference internal" href="#pyast"><span class="std std-ref">Python AST extraction</span></a> and in <a class="reference internal" href="#javaast"><span class="std std-ref">Java AST extraction</span></a></p>
</div>
<div class="section" id="installation">
<h2>1.1. Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="via-pip">
<h3>1.1.1. Via PIP<a class="headerlink" href="#via-pip" title="Permalink to this headline">¶</a></h3>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">pip install https://github.com/smartshark/coastSHARK/zipball/master --process-dependency-links</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The –process-dependency-links switch is needed because we install pycoSHARK as a requirement directly from git.</p>
</div>
</div>
<div class="section" id="via-setup-py">
<h3>1.1.2. Via setup.py<a class="headerlink" href="#via-setup-py" title="Permalink to this headline">¶</a></h3>
<div class="highlight-shell-session notranslate"><div class="highlight"><pre><span></span><span class="go">python setup.py install</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-tests">
<h2>1.2. Run tests<a class="headerlink" href="#run-tests" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py <span class="nb">test</span>
</pre></div>
</div>
</div>
<div class="section" id="execute">
<h2>1.3. Execute<a class="headerlink" href="#execute" title="Permalink to this headline">¶</a></h2>
<p>To run coastSHARK needs an already checked out repository. It also depends on a running MongoDB and that the MongoDB is filled for this project by <a class="reference external" href="https://github.com/smartshark/vcsSHARK">vcsSHARK</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python smartshark_plugin.py -U <span class="nv">$DBUSER</span> -P <span class="nv">$DBPASS</span> -DB <span class="nv">$DBNAME</span> -i <span class="nv">$PATH_TO_REPOSITORY</span> -r <span class="nv">$REVISION_HASH</span> -u <span class="nv">$REPOSITORY_GIT_URI</span> -a <span class="nv">$AUTHENTICATION_DB</span>
</pre></div>
</div>
<p>Basically follow the <a class="reference external" href="https://smartshark.github.io/vcsSHARK/intro.html#tutorial">vcsSHARK tutorial</a> and at the end install coastSHARK, checkout the revision to run against in the folder and then execute the above. Parameter for the MongoDB should be the same as with vcsSHARK.</p>
</div>
<div class="section" id="python-ast-extraction">
<span id="pyast"></span><h2>1.4. Python AST extraction<a class="headerlink" href="#python-ast-extraction" title="Permalink to this headline">¶</a></h2>
<p>Using the builtin ast package has the advantage of not requiring much code. Although, it has the drawback that it uses the python runtime the coastSHARK is executed with. It is not possible to extract newer python 3.6 nodes if coastSHARK runs on python 3.5 (and the nodes are not present in 3.6, e.g., new keywords). There is also the problem with python2 code, at the moment coastSHARK just runs the python code through the lib2to3 package to avoid parsing errors. A future version of the coastSHARK may mitigate this problem by probing for the version of the python file first. Probably by incrementing the python version for each probe if it catches parsing errors until it can parse the file.</p>
</div>
<div class="section" id="java-ast-extraction">
<span id="javaast"></span><h2>1.5. Java AST extraction<a class="headerlink" href="#java-ast-extraction" title="Permalink to this headline">¶</a></h2>
<p>The node types are defined by the javalang package. Other packages for parsing java code and extracting the AST may have different names for the node types.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="extension.html" class="btn btn-neutral float-right" title="2. How to Extend" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to coastSHARK’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Alexander Trautsch

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>